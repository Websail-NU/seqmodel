{
  "agent_class": "seqmodel.experiment.basic_agent.BasicAgent",
  "agent_opt": {
    "model": {
      "model_class": "seqmodel.model.seq_model.BasicSeqModel",
      "model_opt": {
        "decoder": {
          "class_name": "seqmodel.model.decoder.RNNDecoder",
          "opt": {
            "init_with_encoder_state": false
          },
          "rnn_class_name": "seqmodel.model.rnn_module.BasicRNNModule",
          "rnn_opt": {
            "create_zero_initial_state": true,
            "logit": {
              "name_prefix": "logit",
              "out_vocab_size": 10000,
              "trainable": true,
              "use_bias": true
            },
            "rnn_cell": {
              "cell_class": "tf.contrib.rnn.BasicLSTMCell",
              "cell_opt": {
                "num_units": 200
              },
              "input_keep_prob": 1.0,
              "num_layers": 2,
              "output_all_states": false,
              "output_keep_prob": 1.0,
              "vrrn": false
            },
            "time_major": true
          },
          "share": {
            "logit_weight_tying": false
          }
        },
        "embedding": {
          "dim": 200,
          "in_vocab_size": 10000,
          "init_filepath": null,
          "trainable": true
        },
        "loss_type": "xent",
        "output_mode": "distribution"
      }
    },
    "optim": {
      "clip_gradients": 5.0,
      "init_scale": 0.04,
      "learning_rate": 0.8,
      "lr_decay_every": 1,
      "lr_decay_factor": 1,
      "lr_decay_imp_ratio": 1,
      "lr_decay_wait": 4,
      "lr_min": 1e-06,
      "lr_start_decay_at": 3,
      "max_epochs": 13,
      "name": "GradientDescentOptimizer"
    }
  },
  "data_dir": "../../data/ptb/",
  "data_source": {
    "test": "test.txt",
    "train": "train.txt",
    "valid": "valid.txt"
  },
  "iterator_class": "seqmodel.data.single_text_iterator.TokenIterator",
  "iterator_keys": [
    "train",
    "valid",
    "test"
  ],
  "iterator_opt": {
    "_add_end_seq": true,
    "_add_start_seq": false,
    "add_end_seq": true,
    "add_start_seq": false,
    "sequence_length": 20,
    "shuffle": true,
    "truncate_batch": true
  },
  "vocab_files": {
    "in_vocab": "vocab.txt",
    "out_vocab": "vocab.txt"
  },
  "writeout_opt": {
    "checkpoint_dir": "model/",
    "experiment_dir": "experiment/tmp",
    "log_file": "experiment.log",
    "report_step_every": 1000,
    "training_state": "training_state.json"
  }
}
